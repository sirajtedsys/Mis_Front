<div class="profile-name patient-titile text-center">
  <h2 class="text-center">Purchase Order Approval Details (general Store)</h2>
</div>

<span *ngIf="procdatalist.length>0 && requestType=='procedure'">
  <div class="row my-4 mx-1">
    <div class="col-6">
      <button (click)="AcceptAndRejectAllProc('A')" class="btn w-100 btn-outline-success ">Accept All</button>
    </div>
    <div class="col-6">
      <button (click)="AcceptAndRejectAllProc('R')" class="btn w-100 btn-outline-danger ">Reject All</button>
    </div>
  </div>
  
  <span *ngFor="let item of procdatalist; let i = index">
    <!-- Accordion for Discount Requests -->
    <div class="accordion mt-2" [id]="'discountAccordion' + i">
      <div class="accordion-item">
        <h2 class="accordion-header" [id]="'heading' + i">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#collapse' + i" aria-expanded="false" [attr.aria-controls]="'collapse' + i">
            Item Name: {{item.Supplier}} <br> manufacturer: {{item.TestName}}  | PO Date : {{item.DiscountPercentage}}  
          </button>
        </h2>
        <div [id]="'collapse' + i" class="accordion-collapse collapse" [attr.aria-labelledby]="'heading' + i" [attr.data-bs-parent]="'#discountAccordion' + i">
          <div class="accordion-body">
            <p><strong>Sl. No.:</strong> {{i+1}}</p>
            <p><strong>Item Name:</strong> {{item.Supplier}}</p>            
            <p click="(item )"> <strong>MAnufacturer:</strong> {{item.TestName}}</p>
            <p><strong>Dimension:</strong> {{item.RequestedFor}}</p>
            <p><strong>Qty:</strong> {{item.ProcedureRate}}</p>    
            <p><strong>Free qty:</strong> {{item.ProcedureRate}}</p>     
            <p><strong>Rate:</strong> {{item.ProcedureRate}}</p> 
            <p><strong>Tax%:</strong> {{item.ProcedureRate}}</p>    
            <p><strong>T Amt:</strong> {{item.ProcedureRate}}</p>     
            <p><strong>Section stock:</strong> {{item.ProcedureRate}}</p>
            <p><strong>AllStock:</strong> {{item.ProcedureRate}}</p>    
            <p><strong>Last Purchase Rate:</strong> {{item.ProcedureRate}}</p>     
            <p><strong>Last Mrp:</strong> {{item.ProcedureRate}}</p>
            <p><strong>LAst profit:</strong> {{item.ProcedureRate}}</p>    
            <p><strong>Last net Rate:</strong> {{item.ProcedureRate}}</p>     
            <p><strong>Last net rate Profit:</strong> {{item.ProcedureRate}}</p>
            <p><strong>Last free qty:</strong> {{item.ProcedureRate}}</p>    
            <p><strong>Last supplier:</strong> {{item.ProcedureRate}}</p>     
            <p><strong>Last Purchase Date:</strong> {{item.ProcedureRate}}</p>
            <p><strong>Remarks:</strong><textarea  [value]="item.ApprovalRemarks" (input)="AddApprovalRemarksLabReport($event,i)" class="form-control" placeholder="Approval Remarks"></textarea>         </p>
            <p><strong>Status:</strong>
              <!-- <div class="form-group"> -->
                <select id="currency" class="form-select" >
                 <option  value="">Select</option>
                 <!-- <option value="">Pending</option> -->
                 <option value="A" >Approve</option>
                 <option value="R" >Reject</option>
                  <!-- <option>USD</option> -->
                </select>
              <!-- </div> -->
            </p>
            <!-- <p><strong>PO Amount:</strong> {{ DoCalculation(item.ProcedureRate,item.DiscountAmount) }}</p>           
            <p><strong>Discount Percentage:</strong> <input type="text" [value]="item.DiscountPercentage" (input)="AddDiscountPercentageLabreport($event,i,item.ProcedureRate)" class="form-control" placeholder="Discount Percentage"></p>
            <p><strong>Discount Amount:</strong> <input type="text" [value]="item.DiscountAmount" (input)="AddDiscountAmountLabReport($event,i,item.ProcedureRate)" class="form-control" placeholder="Discount Amount"></p> -->
            <!-- <p><strong>Remarks:</strong> {{item.Remarks}}</p> -->
               
            <!-- <p><strong>Remarks:</strong> {{formatText(item.Remarks)}}</p>   
            <p><strong>Approval Remarks:</strong><textarea  [value]="item.ApprovalRemarks" (input)="AddApprovalRemarksLabReport($event,i)" class="form-control" placeholder="Approval Remarks"></textarea>         </p>
            <p><strong>Requested By:</strong> <br> {{item.RequestedBy}}</p>
            <p><strong>Requested On:</strong> <br> {{item.RequestedOn | date:'dd-MMM-yyyy'}}</p> -->
            
            <!-- <button (click)="BillProcDiscountAppAndRej(item,1)" class="btn w-100 btn-outline-success active">Accept</button>            
            <button (click)="BillProcDiscountAppAndRej(item,2)" class="btn w-100 btn-outline-danger active">Reject</button> -->

          </div>
        </div>
      </div>
    </div>
  </span>


  <!-- <span *ngFor="let item of procdatalist; let i = index"> -->
    <!-- Accordion for Discount Requests -->
    <!-- <div class="accordion mt-2" id="discountAccordion">
      <div class="accordion-item">
        <h2 class="accordion-header" id="'heading' + i">
          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#collapse' + i" aria-expanded="false" [attr.aria-controls]="'collapse' + i">
            Supplier: {{item.Supplier}} <br> Po Amt: {{item.TestName}}  | PO Date : {{item.DiscountPercentage}}  
          </button>
        </h2>
        <div [id]="'collapse' + i" class="accordion-collapse collapse" [attr.aria-labelledby]="'heading' + i" [attr.data-bs-parent]="'#discountAccordion' + i">
          <div class="accordion-body">
            <p><strong>Sl. No.:</strong> {{i+1}}</p>
            <p><strong>Supplier:</strong> {{item.Supplier}}</p>            
            <p click="(item )"> <strong>PO#:</strong> {{item.TestName}}</p>
            <p><strong>PO Date:</strong> {{item.RequestedFor}}</p>
            <p><strong>Detaills:</strong> {{item.ProcedureRate}}</p>    
            <p><strong>PO Amount:</strong> {{item.ProcedureRate}}</p>     
            <p><strong>Advance:</strong> {{item.ProcedureRate}}</p> 
            <p><strong>Remarks:</strong><textarea  [value]="item.ApprovalRemarks" (input)="AddApprovalRemarksLabReport($event,i)" class="form-control" placeholder="Approval Remarks"></textarea>         </p>
            <p><strong>Status:</strong>
              <!-- <div class="form-group"> -->
                <!-- <select id="currency" class="form-select" > -->
                 <!-- <option  value="">Select</option> -->
                 <!-- <option value="">Pending</option> -->
                 <!-- <option value="A" >Approve</option>
                 <option value="R" >Reject</option> -->
                  <!-- <option>USD</option> -->
                <!-- </select> -->
              <!-- </div> -->
            <!-- </p> -->
            <!-- <p><strong>PO Amount:</strong> {{ DoCalculation(item.ProcedureRate,item.DiscountAmount) }}</p>           
            <p><strong>Discount Percentage:</strong> <input type="text" [value]="item.DiscountPercentage" (input)="AddDiscountPercentageLabreport($event,i,item.ProcedureRate)" class="form-control" placeholder="Discount Percentage"></p>
            <p><strong>Discount Amount:</strong> <input type="text" [value]="item.DiscountAmount" (input)="AddDiscountAmountLabReport($event,i,item.ProcedureRate)" class="form-control" placeholder="Discount Amount"></p> -->
            <!-- <p><strong>Remarks:</strong> {{item.Remarks}}</p> -->
               
            <!-- <p><strong>Remarks:</strong> {{formatText(item.Remarks)}}</p>   
            <p><strong>Approval Remarks:</strong><textarea  [value]="item.ApprovalRemarks" (input)="AddApprovalRemarksLabReport($event,i)" class="form-control" placeholder="Approval Remarks"></textarea>         </p>
            <p><strong>Requested By:</strong> <br> {{item.RequestedBy}}</p>
            <p><strong>Requested On:</strong> <br> {{item.RequestedOn | date:'dd-MMM-yyyy'}}</p> -->
            
            <!-- <button (click)="BillProcDiscountAppAndRej(item,1)" class="btn w-100 btn-outline-success active">Accept</button>            
            <button (click)="BillProcDiscountAppAndRej(item,2)" class="btn w-100 btn-outline-danger active">Reject</button> -->

          <!-- </div>
        </div>
      </div>
    </div>
  </span> --> 
<!-- </span> -->